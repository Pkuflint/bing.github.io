<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>iOS工程的本地化-Swift - 小兵的诗篇</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Shen Xiaobing" />
  <meta name="description" content="应用如果需要根据设备语言显示不同的语言，就需要进行本地化的工作。就iOS工程而言，需要本地化的内容主要有：文字、图片、语音。一般而言，图片和语言的本地化，都可以转化为实质上的字符串的本地化。
 info.plist本地化 代码字符串本地化 storyboard, xib文件本地化 launchScreen.storyboard本地化 图片本地化 一次性导出本地化文件 新增内容的本地化 多人协作下使用自定义Localizable.strings文件 " />

  <meta name="keywords" content="小兵哥, 个人博客, pkuflint, 火石" />






<meta name="generator" content="Hugo 0.62.2" />


<link rel="canonical" href="http://shenxiaobing.com/post/2019/localization-of-ios-project/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.0995afa14b62cd93e93cfc066b646c4c17a3eddca0e9d52a1d9dcf5d90aaacd3.css" integrity="sha256-CZWvoUtizZPpPPwGa2RsTBej7dyg6dUqHZ3PXZCqrNM=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="iOS工程的本地化-Swift" />
<meta property="og:description" content="应用如果需要根据设备语言显示不同的语言，就需要进行本地化的工作。就iOS工程而言，需要本地化的内容主要有：文字、图片、语音。一般而言，图片和语言的本地化，都可以转化为实质上的字符串的本地化。

info.plist本地化
代码字符串本地化
storyboard, xib文件本地化
launchScreen.storyboard本地化
图片本地化
一次性导出本地化文件
新增内容的本地化
多人协作下使用自定义Localizable.strings文件
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://shenxiaobing.com/post/2019/localization-of-ios-project/" />
<meta property="article:published_time" content="2018-06-29T14:20:39+08:00" />
<meta property="article:modified_time" content="2018-06-29T14:20:39+08:00" />
<meta itemprop="name" content="iOS工程的本地化-Swift">
<meta itemprop="description" content="应用如果需要根据设备语言显示不同的语言，就需要进行本地化的工作。就iOS工程而言，需要本地化的内容主要有：文字、图片、语音。一般而言，图片和语言的本地化，都可以转化为实质上的字符串的本地化。

info.plist本地化
代码字符串本地化
storyboard, xib文件本地化
launchScreen.storyboard本地化
图片本地化
一次性导出本地化文件
新增内容的本地化
多人协作下使用自定义Localizable.strings文件
">
<meta itemprop="datePublished" content="2018-06-29T14:20:39&#43;08:00" />
<meta itemprop="dateModified" content="2018-06-29T14:20:39&#43;08:00" />
<meta itemprop="wordCount" content="2676">



<meta itemprop="keywords" content="iOS,Swift,本地化," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="iOS工程的本地化-Swift"/>
<meta name="twitter:description" content="应用如果需要根据设备语言显示不同的语言，就需要进行本地化的工作。就iOS工程而言，需要本地化的内容主要有：文字、图片、语音。一般而言，图片和语言的本地化，都可以转化为实质上的字符串的本地化。

info.plist本地化
代码字符串本地化
storyboard, xib文件本地化
launchScreen.storyboard本地化
图片本地化
一次性导出本地化文件
新增内容的本地化
多人协作下使用自定义Localizable.strings文件
"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-42920896-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">小兵的诗篇</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://shenxiaobing.com/">首页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://shenxiaobing.com/categories/%E7%94%9F%E6%B4%BB/">生活</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://shenxiaobing.com/categories/%E8%AF%BB%E4%B9%A6/">读书</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://shenxiaobing.com/categories/%E7%BC%96%E7%A8%8B/">编程</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          <div class="mobile-menu-parent">
            <span class="mobile-submenu-open"></span>
            <a href="http://shenxiaobing.com">
              全部
            </a>
          </div>
          <ul class="mobile-submenu-list">
            
              <li>
                <a href="http://shenxiaobing.com/post/">全部文章</a>
              </li>
            
              <li>
                <a href="http://shenxiaobing.com/categories/">分类</a>
              </li>
            
              <li>
                <a href="http://shenxiaobing.com/tags/">标签</a>
              </li>
            
              <li>
                <a href="http://shenxiaobing.com/about">关于</a>
              </li>
            
          </ul>
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      小兵的诗篇
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://shenxiaobing.com/">首页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://shenxiaobing.com/categories/%E7%94%9F%E6%B4%BB/">生活</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://shenxiaobing.com/categories/%E8%AF%BB%E4%B9%A6/">读书</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://shenxiaobing.com/categories/%E7%BC%96%E7%A8%8B/">编程</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          <a class="menu-item-link menu-parent" href="http://shenxiaobing.com">全部</a>
          <ul class="submenu">
            
              <li>
                <a href="http://shenxiaobing.com/post/">全部文章</a>
              </li>
            
              <li>
                <a href="http://shenxiaobing.com/categories/">分类</a>
              </li>
            
              <li>
                <a href="http://shenxiaobing.com/tags/">标签</a>
              </li>
            
              <li>
                <a href="http://shenxiaobing.com/about">关于</a>
              </li>
            
          </ul>

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">iOS工程的本地化-Swift</h1>
      
      <div class="post-meta">
        <time datetime="2018-06-29" class="post-time">
          2018-06-29
        </time>
        <div class="post-category">
            <a href="http://shenxiaobing.com/categories/%E7%BC%96%E7%A8%8B/"> 编程 </a>
            
          </div>
        <span class="more-meta"> 约 2676 字 </span>
          <span class="more-meta"> 预计阅读 6 分钟 </span>

        
        

        
        
          <span id="/post/2019/localization-of-ios-project/" class="leancloud_visitors" data-flag-title="iOS工程的本地化-Swift">
            <span class="post-meta-item-text"> | 阅读 </span>
            <span class="leancloud-visitors-count"></span>
          </span>
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#本地化的前置配置">本地化的前置配置</a></li>
    <li><a href="#infoplist本地化">Info.Plist本地化</a>
      <ul>
        <li><a href="#创建文件infopliststrings">创建文件InfoPlist.strings</a></li>
        <li><a href="#勾选本地化语言">勾选本地化语言</a></li>
        <li><a href="#添加要修改键值对">添加要修改键值对</a></li>
      </ul>
    </li>
    <li><a href="#代码字符串的本地化">代码字符串的本地化</a>
      <ul>
        <li><a href="#代码中调用nslocalizedstring">代码中调用NSLocalizedString</a></li>
        <li><a href="#创建文件localizablestrings">创建文件Localizable.Strings</a></li>
        <li><a href="#勾选本地化语言-1">勾选本地化语言</a></li>
        <li><a href="#添加要修改的本地化键值对">添加要修改的本地化键值对</a></li>
      </ul>
    </li>
    <li><a href="#storyboard和xib的本地化">storyboard和xib的本地化</a>
      <ul>
        <li><a href="#勾选本地化语言-2">勾选本地化语言</a></li>
        <li><a href="#进入strings文件修改">进入strings文件修改</a></li>
      </ul>
    </li>
    <li><a href="#launchscreenstoryboard的本地化">LaunchScreen.storyboard的本地化</a>
      <ul>
        <li><a href="#手动创建多个storyboard">手动创建多个storyboard</a></li>
        <li><a href="#添加infopliststrings键值对">添加InfoPlist.strings键值对</a></li>
      </ul>
    </li>
    <li><a href="#图片的本地化">图片的本地化</a>
      <ul>
        <li><a href="#使用本地化的图片名称">使用本地化的图片名称</a></li>
        <li><a href="#对图片资源设置本地化语言">对图片资源设置本地化语言</a></li>
      </ul>
    </li>
    <li><a href="#一次性导出本地化文件">一次性导出本地化文件</a>
      <ul>
        <li><a href="#确认已配置本地化语言">确认已配置本地化语言</a></li>
        <li><a href="#导出xliff文件">导出xliff文件</a></li>
        <li><a href="#导入xliff文件">导入xliff文件</a></li>
      </ul>
    </li>
    <li><a href="#新增内容的本地化">新增内容的本地化</a></li>
    <li><a href="#从指定自定义strings文件加载本地化字符串">从指定自定义strings文件加载本地化字符串</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p>应用如果需要根据设备语言显示不同的语言，就需要进行本地化的工作。就iOS工程而言，需要本地化的内容主要有：文字、图片、语音。一般而言，图片和语言的本地化，都可以转化为实质上的字符串的本地化。</p>
<ul>
<li>info.plist本地化</li>
<li>代码字符串本地化</li>
<li>storyboard, xib文件本地化</li>
<li>launchScreen.storyboard本地化</li>
<li>图片本地化</li>
<li>一次性导出本地化文件</li>
<li>新增内容的本地化</li>
<li>多人协作下使用自定义Localizable.strings文件</li>
</ul>
<h2 id="本地化的前置配置">本地化的前置配置</h2>
<p>要进行任何本地化之前，需要先配置本地化语言。前往Project - Info - Localizations，添加本地化的目标语言。</p>
<h2 id="infoplist本地化">Info.Plist本地化</h2>
<p><code>Info.plist</code>文件中，有：应用显示名称，还有系统权限文字说明，比如：请求位置或者拍照时弹出系统提示，我们需要在那里显示请求权限的用途。这部分的文字，都在<code>info.plist</code>中。</p>
<h3 id="创建文件infopliststrings">创建文件InfoPlist.strings</h3>
<p>我们可以直接创建名为<code>InfoPlist.strings</code>的文件。文件名不能自定义。</p>
<h3 id="勾选本地化语言">勾选本地化语言</h3>
<p>创建后，选中文件，在Xcode右侧边栏<code>File Inspector</code>中可以找到<code>Localization</code>勾选项。勾选一个语言，就会自动生成一个对应那个语言的<code>InfoPlist.strings</code>文件。</p>
<h3 id="添加要修改键值对">添加要修改键值对</h3>
<p>在<code>InfoPlist.strings</code>文件中，我们可以直接像这样一样，去手动输入键和对应的本地化文本，最后用分号标识：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-swift" data-lang="swift"><span class="cm">/*</span><span class="cm"> </span><span class="cm">B</span><span class="cm">u</span><span class="cm">n</span><span class="cm">d</span><span class="cm">l</span><span class="cm">e</span><span class="cm"> </span><span class="cm">d</span><span class="cm">i</span><span class="cm">s</span><span class="cm">p</span><span class="cm">l</span><span class="cm">a</span><span class="cm">y</span><span class="cm"> </span><span class="cm">n</span><span class="cm">a</span><span class="cm">m</span><span class="cm">e</span><span class="cm"> </span><span class="cm">*/</span>
<span class="s">&#34;</span><span class="s">CFBundleDisplayName</span><span class="s">&#34;</span> <span class="p">=</span> <span class="s">&#34;</span><span class="s">爱跑十三周</span><span class="s">&#34;</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>前提是你得知道要修改的文本对应的键是什么，比如`&quot;CFBundleDisplayName&quot;是应用的显示名称。</p>
<p>如果想知道键是什么，可以选中<code>info.plist</code>，右键选择<code>Open As - Source Code</code>。在那里可以到真实的键名。</p>
<h2 id="代码字符串的本地化">代码字符串的本地化</h2>
<h3 id="代码中调用nslocalizedstring">代码中调用NSLocalizedString</h3>
<p>要本地化代码字符串，在使用字符串时，不能直接用具体明文的<code>String</code>，而要把需要本地化显示的字符串写成<code>NSLolalizedString(string: String, comment: String)</code>。方法里第一个参数，可以理解为本地化的键，这个值应该是唯一的，是本地化字符串的唯一标识。comment，是字符串的注释，方便你进行后续的翻译。</p>
<p>比如：<code>label. text = NSLocalizedString(&quot;屏幕尺寸&quot;, comment: &quot;屏幕尺寸label的标题&quot;)</code></p>
<h3 id="创建文件localizablestrings">创建文件Localizable.Strings</h3>
<p>创建名为<code>Localizable</code>的<code>strings</code>文件，名称不能自定义。</p>
<h3 id="勾选本地化语言-1">勾选本地化语言</h3>
<p>创建后，选中文件，在Xcode右侧边栏<code>File Inspector</code>中可以找到<code>Localization</code>勾选项。勾选一个语言，就会自动生成一个对应那个语言的<code>Localizable.strings</code>文件。</p>
<h3 id="添加要修改的本地化键值对">添加要修改的本地化键值对</h3>
<p>添加如下代码进入<code>Localizable.strings</code>。<strong>请注意添加代码末尾的分号</strong></p>
<p>简体中文的<code>Localizable.strings</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-swift" data-lang="swift"><span class="cm">/*</span><span class="cm"> </span><span class="cm">屏</span><span class="cm">幕</span><span class="cm">尺</span><span class="cm">寸</span><span class="cm">l</span><span class="cm">a</span><span class="cm">b</span><span class="cm">e</span><span class="cm">l</span><span class="cm">的</span><span class="cm">标</span><span class="cm">题</span><span class="cm"> </span><span class="cm">*/</span>
<span class="s">&#34;</span><span class="s">屏幕尺寸</span><span class="s">&#34;</span> <span class="p">=</span> <span class="s">&#34;</span><span class="s">屏幕尺寸</span><span class="s">&#34;</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>繁体中文的<code>Localizable.strings</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-swift" data-lang="swift"><span class="cm">/*</span><span class="cm"> </span><span class="cm">屏</span><span class="cm">幕</span><span class="cm">尺</span><span class="cm">寸</span><span class="cm">l</span><span class="cm">a</span><span class="cm">b</span><span class="cm">e</span><span class="cm">l</span><span class="cm">的</span><span class="cm">标</span><span class="cm">题</span><span class="cm"> </span><span class="cm">*/</span> 
<span class="s">&#34;</span><span class="s">屏幕尺寸</span><span class="s">&#34;</span> <span class="p">=</span> <span class="s">&#34;</span><span class="s">熒幕尺寸</span><span class="s">&#34;</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>英文的<code>Localizable.strings</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-swift" data-lang="swift"><span class="cm">/*</span><span class="cm"> </span><span class="cm">屏</span><span class="cm">幕</span><span class="cm">尺</span><span class="cm">寸</span><span class="cm">l</span><span class="cm">a</span><span class="cm">b</span><span class="cm">e</span><span class="cm">l</span><span class="cm">的</span><span class="cm">标</span><span class="cm">题</span><span class="cm"> </span><span class="cm">*/</span>  
<span class="s">&#34;</span><span class="s">屏幕尺寸</span><span class="s">&#34;</span> <span class="p">=</span> <span class="s">&#34;</span><span class="s">Screen Size</span><span class="s">&#34;</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>这样那一处的字符串就完成了本地化。再对其他需要本地化的字符串做相同的处理即可。</p>
<h2 id="storyboard和xib的本地化">storyboard和xib的本地化</h2>
<p>有时我们创建的storyboard和xib上也有字符串需要本地化。要做也非常简单。</p>
<h3 id="勾选本地化语言-2">勾选本地化语言</h3>
<p>选中storyboard或者xib，在File Inspector中勾选Localization中需要本地化的语言。勾选后，就会在原来的文件下面生成本地化的strings文件，文件名是storyboard或者xib的名称。</p>
<h3 id="进入strings文件修改">进入strings文件修改</h3>
<p>进入自动生成的strings文件，可以看到里面把带有字符串的按钮都列出来了。我们可以直接去修改对应的数值即可。</p>
<h2 id="launchscreenstoryboard的本地化">LaunchScreen.storyboard的本地化</h2>
<p>上面本地化storboard的方法并不适用于<code>LaunchScreen.storyboard</code>。但要本地化也有办法。</p>
<h3 id="手动创建多个storyboard">手动创建多个storyboard</h3>
<p>手动创建多个针对不同语言的storyboard，设置其样式和外观。</p>
<h3 id="添加infopliststrings键值对">添加InfoPlist.strings键值对</h3>
<p>在上文提到的InfoPlist.strings中加入如下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-swift" data-lang="swift"><span class="cm">/*</span><span class="cm"> </span><span class="cm">L</span><span class="cm">a</span><span class="cm">u</span><span class="cm">c</span><span class="cm">h</span><span class="cm">S</span><span class="cm">c</span><span class="cm">r</span><span class="cm">e</span><span class="cm">e</span><span class="cm">n</span><span class="cm"> </span><span class="cm">s</span><span class="cm">t</span><span class="cm">o</span><span class="cm">r</span><span class="cm">y</span><span class="cm">b</span><span class="cm">o</span><span class="cm">a</span><span class="cm">r</span><span class="cm">d</span><span class="cm"> </span><span class="cm">f</span><span class="cm">o</span><span class="cm">r</span><span class="cm"> </span><span class="cm">t</span><span class="cm">h</span><span class="cm">e</span><span class="cm"> </span><span class="cm">l</span><span class="cm">a</span><span class="cm">n</span><span class="cm">g</span><span class="cm">u</span><span class="cm">a</span><span class="cm">g</span><span class="cm">e</span><span class="cm"> </span><span class="cm">*/</span>
<span class="s">&#34;</span><span class="s">UILaunchStoryboardName</span><span class="s">&#34;</span> <span class="p">=</span> <span class="s">&#34;</span><span class="s">LaunchScreenSC</span><span class="s">&#34;</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>为不同语言的InfoPlist.strings指定不同的用于启动的storyboard名称。</p>
<h2 id="图片的本地化">图片的本地化</h2>
<h3 id="使用本地化的图片名称">使用本地化的图片名称</h3>
<p>图片的调用一般是用图片名称，也就是字符串，因此图片本地化可以转化为字符串本地化问题。</p>
<h3 id="对图片资源设置本地化语言">对图片资源设置本地化语言</h3>
<p>像对xib那样在File Inspector中配置本地化语言，这样就会在不同的本地化文件夹中出现同名的图片。根据需要替换即可。</p>
<h2 id="一次性导出本地化文件">一次性导出本地化文件</h2>
<p>上面的这些方法都没问题，但如果要修改的文字很多，如果翻译需要多人去做，这样就很低效。Xcode提供了一个工具，可以导出所有本地化字符串。</p>
<h3 id="确认已配置本地化语言">确认已配置本地化语言</h3>
<ol>
<li>将需要本地化的storyboard和xib勾选本地化语言</li>
<li>在代码里添加需要本地化的NSLocalizedString</li>
</ol>
<h3 id="导出xliff文件">导出xliff文件</h3>
<p>选中<code>Target</code>，点击顶部<code>Editor</code>，然后点击<code>Export For Localization</code>。选择要导出的语言，即可导出<code>xliff</code>文件。</p>
<h3 id="导入xliff文件">导入xliff文件</h3>
<p>将xliff文件发给本地化小组完成本地化后，可以直接在<code>Editor</code> - <code>Import Localization</code>导入<code>xliff</code>文件。</p>
<h2 id="新增内容的本地化">新增内容的本地化</h2>
<p>应用出了新版本，又有了新的需要本地化的内容。这时，只需要重新导出<code>xliff</code>文件。原有的本地化内容在导出时会被保留，只需要对新的内容本地化。完成后，重新导入，即可。</p>
<h2 id="从指定自定义strings文件加载本地化字符串">从指定自定义strings文件加载本地化字符串</h2>
<p>如果多人需要操作字符串，那么可以自己创建一个专属于自己的strings字符串，不使用默认的Localizable.strings。比如，你创建了名为<code>MyLocalizable.strings</code>的文件。那么你在调用本地化字符串时，就应该这样写：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">let</span> <span class="nv">text</span> <span class="p">=</span> <span class="n">NSLocalziableString</span><span class="p">(</span><span class="s">&#34;</span><span class="s">屏幕尺寸</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">tableName</span><span class="p">:</span> <span class="s">&#34;</span><span class="s">MyLocalizable</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">comment</span><span class="p">:</span> <span class="s">&#34;</span><span class="s">屏幕尺寸</span><span class="s">&#34;</span><span class="p">)</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>即在参数中加入<code>tableName</code>，指定从哪个文件加载。</p>
<p>参考文档：</p>
<ul>
<li><a href="https://www.jianshu.com/p/88c1b65e3ddb">https://www.jianshu.com/p/88c1b65e3ddb</a></li>
</ul>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Shen Xiaobing</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2018-06-29
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/wechatpay.png">
        <span>微信打赏</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/alipay.png">
        <span>支付宝打赏</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      <div class="post-tags">
          <a href="http://shenxiaobing.com/tags/ios/">iOS</a>
          <a href="http://shenxiaobing.com/tags/swift/">Swift</a>
          <a href="http://shenxiaobing.com/tags/%E6%9C%AC%E5%9C%B0%E5%8C%96/">本地化</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/2019/i-made-an-app/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">I made an app</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/2019/progress-bar-like-wechat-webview/">
            <span class="next-text nav-default">仿照微信WebView实现ProgressBar</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  <div class="disqus-comment">
  <div class="disqus-button" id="load_disqus" onclick="load_disqus()">
    显示 Disqus 评论
  </div>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = "http://shenxiaobing.com/post/2019/localization-of-ios-project/";
    };
    function load_disqus() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'shenxiaobing';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      $('#load_disqus').remove();
    };
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  </div>

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:xiaobing.shen@foxmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>


<a href="http://shenxiaobing.com/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2015 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Shen Xiaobing
        
      </span></span>

  
  

  
    <span>
      <a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备19049773号-1</a>
    </span>
  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






<script id="baidu_analytics">
  var _hmt = _hmt || [];
  (function() {
    if (window.location.hostname === 'localhost') return;
    var hm = document.createElement("script"); hm.async = true;
    hm.src = "https://hm.baidu.com/hm.js?7390efd508bf472b486211e3538692d9";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>





  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  







  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script type="text/javascript">
    AV.initialize("5nxAXNGRN9qW7YzsbrSTQIqi-gzGzoHsz", "cw5bUfHdfqCiITOe0fguV11D");
  </script>

  <script>
    function showHitCount(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push($(this).attr("id").trim());
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var hits = item.get('hits');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(hits);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function (results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("hits");
            counter.save(null, {
              success: function (counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('hits'));
              },
              error: function (counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
             
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
             
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("hits", 1);
            newcounter.save(null, {
              success: function (newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('hits'));
              },
              error: function (newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function (error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function () {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        
        addCount(Counter);
      } else if ($('.post-link').length > 1) {
        
        showHitCount(Counter);
      }
    });
  </script>









</body>
</html>
